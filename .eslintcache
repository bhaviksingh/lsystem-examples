[{"/Users/bhavik/Documents/Active/tend/lsystem-examples/src/index.tsx":"1","/Users/bhavik/Documents/Active/tend/lsystem-examples/src/pages/HomePage.tsx":"2","/Users/bhavik/Documents/Active/tend/lsystem-examples/src/components/LSPreview.tsx":"3","/Users/bhavik/Documents/Active/tend/lsystem-examples/src/pages/EditorPage.tsx":"4","/Users/bhavik/Documents/Active/tend/lsystem-examples/src/components/utils.ts":"5","/Users/bhavik/Documents/Active/tend/lsystem-examples/src/components/LSEditor.tsx":"6","/Users/bhavik/Documents/Active/tend/lsystem-examples/src/components/P5Turtle.tsx":"7","/Users/bhavik/Documents/Active/tend/lsystem-examples/src/components/LSCustomizer.tsx":"8","/Users/bhavik/Documents/Active/tend/lsystem-examples/src/components/LSViewer.tsx":"9","/Users/bhavik/Documents/Active/tend/lsystem-examples/src/components/P5Turtle3D.tsx":"10","/Users/bhavik/Documents/Active/tend/lsystem-examples/src/components/P5TurtlePixel.tsx":"11"},{"size":570,"mtime":1611418994008,"results":"12","hashOfConfig":"13"},{"size":3746,"mtime":1611966236195,"results":"14","hashOfConfig":"13"},{"size":3423,"mtime":1611966032017,"results":"15","hashOfConfig":"13"},{"size":1337,"mtime":1611966409639,"results":"16","hashOfConfig":"13"},{"size":2780,"mtime":1611966469018,"results":"17","hashOfConfig":"13"},{"size":1289,"mtime":1611965165886,"results":"18","hashOfConfig":"13"},{"size":5356,"mtime":1611956919826,"results":"19","hashOfConfig":"13"},{"size":13275,"mtime":1611966274849,"results":"20","hashOfConfig":"13"},{"size":1138,"mtime":1611965857493,"results":"21","hashOfConfig":"13"},{"size":3922,"mtime":1611966800480,"results":"22","hashOfConfig":"13"},{"size":2583,"mtime":1611954993778,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},"doautr",{"filePath":"27","messages":"28","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"35","messages":"36","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37","usedDeprecatedRules":"26"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"40","usedDeprecatedRules":"26"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"43","messages":"44","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45","usedDeprecatedRules":"26"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"48","messages":"49","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"50","usedDeprecatedRules":"26"},"/Users/bhavik/Documents/Active/tend/lsystem-examples/src/index.tsx",[],["51","52"],"/Users/bhavik/Documents/Active/tend/lsystem-examples/src/pages/HomePage.tsx",["53","54"],"/Users/bhavik/Documents/Active/tend/lsystem-examples/src/components/LSPreview.tsx",[],"/Users/bhavik/Documents/Active/tend/lsystem-examples/src/pages/EditorPage.tsx",[],"/Users/bhavik/Documents/Active/tend/lsystem-examples/src/components/utils.ts",[],"/Users/bhavik/Documents/Active/tend/lsystem-examples/src/components/LSEditor.tsx",["55"],"import React from \"react\";\nimport LSystem from \"@bvk/lsystem\";\nimport LSCustomizer from \"./LSCustomizer\";\nimport P5Turtle from \"./P5Turtle\";\nimport { GFXProps, LSProps } from \"./utils\";\nimport LSViewer from \"./LSViewer\";\n\ninterface LSEditorState {\n  LSystem: LSystem | undefined,\n  gfxProps?: GFXProps\n}\ninterface LSEditorProps {\n  initLSProps: LSProps\n  initGFXProps?: GFXProps\n}\nexport default class LSEditor extends React.Component<LSEditorProps, LSEditorState> {\n  state: LSEditorState = {\n      LSystem: undefined,\n      gfxProps: this.props.initGFXProps || {}\n  }\n  onLSIterated = (LS: LSystem) => {\n      this.setState({ LSystem: LS })\n  }\n  onLSReset = (LS: LSystem) => {\n      this.setState({ LSystem: LS });\n  }\n  onGFXPropsUpdated = (gfxProps: GFXProps) => {\n      this.setState({gfxProps: gfxProps});\n  }\n  render() {\n      return (\n      <div className=\"side-by-side\">\n          <LSCustomizer\n          onLSIterated={this.onLSIterated}\n          onLSReset={this.onLSReset}\n          onGFXPropsUpdate={this.onGFXPropsUpdated}\n          initLSProps={this.props.initLSProps}\n          initGFXProps={this.props.initGFXProps}\n          key=\"LSCustomizer\"\n          />\n          <LSViewer LSystem={this.state.LSystem} gfxProps={this.state.gfxProps}/>\n      </div >\n      )\n    }\n}\n\n","/Users/bhavik/Documents/Active/tend/lsystem-examples/src/components/P5Turtle.tsx",["56","57"],"import React from \"react\"\nimport p5 from \"p5\"\nimport LSystem, { Axiom, ParamsValue } from \"@bvk/lsystem\";\nimport { GFXProps } from \"./utils\";\n\ninterface myProps {\n  LSystem: LSystem | undefined;\n  GFXProps?: GFXProps\n}\nexport default class P5Turtle extends React.Component<myProps> {\n  p5Context: p5 | undefined;\n  containerRef = React.createRef<HTMLDivElement>();\n  canvasType : \"webgl\" | \"p2d\" = \"p2d\";\n  iterateAnimationIndex : undefined | number;\n  walkthroughAnimationIndex: undefined | number;\n  currentDrawCommand: Axiom | undefined;\n  \n\n  constructor(props: myProps) {\n    super(props);\n    this.drawChar = this.drawChar.bind(this);\n    this.redraw = this.redraw.bind(this);\n  }\n  componentDidMount() {\n    if (this.containerRef.current)\n      new p5(this.sketch, this.containerRef.current);\n  }\n  componentDidUpdate() {\n    this.redraw();\n  }\n  preload = (p :p5) => {\n\n  }\n  sketch = (p: p5) => {\n \n    p.setup = () => {\n      p.createCanvas(this.props.GFXProps?.width || 600, this.props.GFXProps?.height || 600, this.canvasType);\n      p.angleMode(p.DEGREES);\n      p.colorMode(p.HSB);\n      p.noLoop();\n      p.textFont(\"monospace \", 12);\n      p.strokeCap(\"butt\")\n      //p.strokeCap(p.SQUARE)\n      this.preload(p);\n      this.p5Context = p;\n      this.redraw();\n    };\n    p.draw = () => {\n\n    }\n  };\n  componentWillUnmount = () => {\n    this.p5Context?.remove();\n    this.p5Context = undefined;\n  }\n  redraw() {\n    if (this.p5Context !== undefined) {\n      this.p5Context?.clear();\n      this.p5Context?.background(255, 0, 255);\n      this.drawCS();\n      this.p5Context?.noLoop();\n    } else {\n      console.log(\"Couldnt redraw\");\n      console.log(this.p5Context);\n    }\n  }\n  animateIterations = () => {\n    if (this.props.LSystem?.iterations === undefined || this.iterateAnimationIndex === undefined) {\n      console.log(\"Cant animate\");\n      return;\n    }\n    if (this.iterateAnimationIndex > this.props.LSystem?.iterations) {\n      console.log(\"Animation finished\");\n      this.iterateAnimationIndex = undefined;\n      return;\n    }\n    \n    let allIterations = this.props.LSystem.getAllIterationsAsObject();\n    let currentIteration = allIterations[this.iterateAnimationIndex];\n    this.currentDrawCommand = currentIteration;\n    this.redraw();\n    this.iterateAnimationIndex++;\n    setTimeout(this.animateIterations, 100);\n  }\n  startIterationAnimation = () => {\n    this.walkthroughAnimationIndex = undefined;\n    this.iterateAnimationIndex = 0;\n    this.animateIterations();\n  }\n  drawCS = () => {\n    if (this.props.LSystem !== undefined) {\n      //Setup drawing\n      let cS = this.currentDrawCommand || this.props.LSystem.getIterationAsObject();\n      let p = this.p5Context as p5;\n\n      //Setup default values \n      let center = this.props.GFXProps?.center !== undefined ? [p.width * this.props.GFXProps?.center[0], p.height * this.props.GFXProps?.center[1]] : [0, 0];\n      let sw = this.props.GFXProps?.strokeWeight ? this.props.GFXProps?.strokeWeight : 1;\n      let defaultLength = this.props.GFXProps?.length ? this.props.GFXProps?.length : 0.01 * p.height;\n      let defaultAngle = this.props.GFXProps?.angle ? this.props.GFXProps?.angle : 90;\n\n      //Begin drawing\n      p.push();\n      this.moveToCenter()\n      p.translate(center[0], center[1], 0);\n\n      this.rotateToUp();\n      p.noFill();\n      p.stroke(0, 0, 0);\n      p.strokeWeight(sw);\n      \n      let steps = cS.length;\n      for (let i = 0; i < steps; i++) {\n        let letter = cS[i];\n        let char = letter.symbol;\n        let params = letter.params;\n        let param = letter.params && letter.params.length == 1 ? letter.params[0] + \"\" : undefined;\n        let val = param && !isNaN(parseFloat(param)) ? parseFloat(param) : undefined\n        this.drawChar(char, val || defaultLength, val || defaultAngle, params);\n      }\n      p.pop();\n      p.noLoop();\n    }\n  }\n  rotateToUp = () => {\n    let p = this.p5Context;\n    if (p) p.rotate(-90);\n  }\n  moveToCenter = () => {\n    let p = this.p5Context;\n    if (p) p.translate(p.width / 2, p.height / 2);\n  }\n  drawChar(char: string, l: number, a: number, params: ParamsValue | undefined) {\n    let p = this.p5Context;\n    if (!p) return;\n    switch (char) {\n      case \"F\":\n        p.line(0, 0, l, 0);\n        p.translate(l, 0);\n        break;\n      case \"f\":\n        p.translate(l, 0);\n        break;\n      case \"+\":\n        p.rotate(a);\n        break;\n      case \"-\":\n        p.rotate(-a);\n        break;\n      case \"[\":\n        p.push()\n        break;\n      case \"]\":\n        p.pop();\n        break;\n      case \"E\":\n        p.ellipse(0, 0, l, l);\n        break;\n      case \"!\":\n        p.strokeWeight(l)\n        break;\n      case \"~\":\n        p.rotate(Math.random() * a);\n        break;\n      case \"#\":\n        if (!l || l==0)  p.stroke(0,0,0);\n        else p.stroke(l, 100, 100);\n        break;\n      // case \"T\":\n      //   let txtvalue = \"text\";\n      //   if (params) {\n      //     txtvalue = params[Math.floor(Math.random() * params.length)] as string;\n      //   }\n      //   p.text(txtvalue,0,0);\n      //   break;\n      default:\n      //console.log(char + \" isn't turtle command\");\n    }\n  }\n\n  render() {\n    return (<div>\n      <span className=\"clickable\" onClick={() => this.startIterationAnimation()}> animate growth </span>\n      <div ref={this.containerRef} />\n    </div>)\n  }\n\n}\n","/Users/bhavik/Documents/Active/tend/lsystem-examples/src/components/LSCustomizer.tsx",[],"/Users/bhavik/Documents/Active/tend/lsystem-examples/src/components/LSViewer.tsx",["58"],"import LSystem from \"@bvk/lsystem\";\nimport React from \"react\"\nimport { findAllInRenderedTree } from \"react-dom/test-utils\";\nimport P5Turtle from \"./P5Turtle\";\nimport P5Turtle3D from \"./P5Turtle3D\";\nimport P5TurtlePixel from \"./P5TurtlePixel\";\nimport {GFXProps} from \"./utils\"\n\ninterface myProps {\n  LSystem: LSystem | undefined;\n  gfxProps?: GFXProps\n}\nexport default class LSViewer extends React.Component<myProps>{\n  \n  render() {\n    return (\n      <div> \n        <P5TurtlePixel key=\"gfx-pixel-view\" LSystem={this.props.LSystem} GFXProps={this.props.gfxProps}/>\n        <P5Turtle key=\"gfx-viewer\" LSystem={this.props.LSystem} GFXProps={this.props.gfxProps} />\n        <P5Turtle3D key=\"gfx-3d-viewer\" LSystem={this.props.LSystem} GFXProps={this.props.gfxProps}/>\n        <div key=\"text-viewer\"> {LSText(this.props.LSystem)} </div>\n      </div>\n    )\n  }\n}\n\nexport function LSText(LSystem: LSystem | undefined) {\n  if (!LSystem) return \"LSystem doesnt exist\"\n  let text = LSystem.getAllIterationsAsString();\n  let textDivs = text.map((val, index) => (\n    <li>  {val}  </li>\n  ));\n  return <ol style={{width: \"100%\"}}> {textDivs} </ol>\n}","/Users/bhavik/Documents/Active/tend/lsystem-examples/src/components/P5Turtle3D.tsx",["59","60","61","62"],"/Users/bhavik/Documents/Active/tend/lsystem-examples/src/components/P5TurtlePixel.tsx",["63"],"\nimport { ParamsValue } from \"@bvk/lsystem\";\nimport P5Turtle from \"./P5Turtle\";\n\nconst pixelWidth = 5;\n\n\nexport default class P5TurtlePixel extends P5Turtle {\n  canvasType : \"webgl\" | \"p2d\" = \"p2d\";\n\n  rotationStack : number[] = [0];\n  currentAngle: number = 0;\n\n  private cameraPos: number[] | undefined;\n  private cameraNum = 0;\n\n  \n  currentAsRadians = () => {\n    return this.currentAngle * (Math.PI/180);\n  }\n  rotateToUp = () => {\n    this.currentAngle = 0;\n    this.rotationStack = [];\n    let p = this.p5Context;\n    this.currentAngle = -90;\n  }\n  moveToCenter = () => {\n    //Do nothing, were already there\n    let p = this.p5Context;\n    if (p) p.translate(p.width / 2, p.height / 2);\n  }\n  \n  drawChar = (char: string, l: number, a: number, params: ParamsValue | undefined) => {\n    let p = this.p5Context;\n    if (!p) return\n    switch (char) {\n      case \"F\":\n        let numPixels = Math.ceil(l  / pixelWidth);\n        let eachAngle = this.currentAsRadians()\n        console.log(eachAngle);\n        for (let i=0; i< numPixels ; i++){\n          p.translate(pixelWidth * Math.cos(eachAngle),  pixelWidth * Math.sin(eachAngle));\n          p.rect(0,0, pixelWidth, pixelWidth);\n          \n        }\n        break;\n      case \"f\":\n        p.translate(0, l * Math.sin(this.currentAsRadians()));\n        break;\n      case \"[\":\n        p.push();\n        this.rotationStack.push(this.currentAngle);\n        this.currentAngle = 0;\n        break;\n      case \"]\":\n        p.pop();\n        let current = this.rotationStack.pop();\n        if (current) {\n          console.log(\"****** Resetting current\");\n          this.currentAngle = current;\n          console.log(this.currentAngle)\n        }\n        break;\n      case \"+\":\n        this.currentAngle += a;\n        break;\n      case \"-\":\n        this.currentAngle -= a;\n        break;\n      case \"E\":\n        if (params && params[1]) {\n          p.fill(parseFloat(params[1] as string), 100,100 );\n        }\n        p.ellipse(0, 0, l, l);\n        break;\n      case \"!\":\n        //p.strokeWeight(l)\n        break;\n      case \"~\":\n        //p.rotate(Math.random() * a);\n        this.currentAngle += (Math.random() * a);\n        break;\n      case \"#\":\n        p.stroke(l, 100, 100);\n        p.fill(l,100,100);\n        break;\n      default:\n        //console.log(char + \" isn't turtle command\");\n        break;\n      }\n    }\n\n\n  render() {\n    return (\n      <div>\n        <span className=\"clickable\" onClick={() => this.startIterationAnimation()}> animate growth </span>\n        <div ref={this.containerRef} />\n      </div>\n    )\n  }\n\n}\n",{"ruleId":"64","replacedBy":"65"},{"ruleId":"66","replacedBy":"67"},{"ruleId":"68","severity":1,"message":"69","line":3,"column":8,"nodeType":"70","messageId":"71","endLine":3,"endColumn":15},{"ruleId":"68","severity":1,"message":"72","line":5,"column":29,"nodeType":"70","messageId":"71","endLine":5,"endColumn":37},{"ruleId":"68","severity":1,"message":"73","line":4,"column":8,"nodeType":"70","messageId":"71","endLine":4,"endColumn":16},{"ruleId":"74","severity":1,"message":"75","line":117,"column":59,"nodeType":"76","messageId":"77","endLine":117,"endColumn":61},{"ruleId":"74","severity":1,"message":"75","line":166,"column":20,"nodeType":"76","messageId":"77","endLine":166,"endColumn":22},{"ruleId":"68","severity":1,"message":"78","line":3,"column":10,"nodeType":"70","messageId":"71","endLine":3,"endColumn":31},{"ruleId":"74","severity":1,"message":"75","line":106,"column":24,"nodeType":"76","messageId":"77","endLine":106,"endColumn":26},{"ruleId":"74","severity":1,"message":"75","line":109,"column":24,"nodeType":"76","messageId":"77","endLine":109,"endColumn":26},{"ruleId":"74","severity":1,"message":"75","line":112,"column":24,"nodeType":"76","messageId":"77","endLine":112,"endColumn":26},{"ruleId":"74","severity":1,"message":"75","line":115,"column":24,"nodeType":"76","messageId":"77","endLine":115,"endColumn":26},{"ruleId":"68","severity":1,"message":"79","line":24,"column":9,"nodeType":"70","messageId":"71","endLine":24,"endColumn":10},"no-native-reassign",["80"],"no-negated-in-lhs",["81"],"@typescript-eslint/no-unused-vars","'LSystem' is defined but never used.","Identifier","unusedVar","'GFXProps' is defined but never used.","'P5Turtle' is defined but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","'findAllInRenderedTree' is defined but never used.","'p' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]